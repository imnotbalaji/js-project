!function(){"use strict";var t,e,a;t=class{constructor(t,e){this.data=t.data,t.get_data().then((t=>{this.render_line(t,e)}))}render_bar(t,e){const a=d3.scaleBand().domain(t.map((t=>t.name))).range([0,200]),n=d3.max(t,(t=>t.open)),r=n>0?n:1,s=d3.scaleLinear().domain([0,r]).range([200,0]);let i=e.selectAll("rect").data(t);i.enter().append("rect").attr("x",(t=>a(t.name))).attr("y",(t=>200)).attr("width",a.bandwidth()-5).attr("height",0).attr("fill","blue").transition().duration(1e3).attr("y",(t=>s(t.open))).attr("height",(t=>200-s(t.open))),i.transition().duration(1e3).attr("y",(t=>s(t.open))).attr("height",(t=>200-s(t.open))),i.exit().transition().duration(1e3).attr("y",200).attr("height",0).remove(),e.selectAll("rect").on("mouseover",(function(t,e){d3.select(this).attr("fill","orange")})).on("mouseout",(function(t,e){d3.select(this).attr("fill","blue")})),e.append("g").attr("class","x-axis").attr("transform","translate(0,200)").call(d3.axisBottom(a).ticks(t.length)),e.append("g").attr("class","y-axis").call(d3.axisLeft(s))}render_line(t,e){const a=d3.timeFormat("%H"),n=e.node().clientWidth,r=e.node().clientHeight,s=d3.scaleTime().domain(d3.extent(t,(t=>new Date(t.timestamp)))).range([0,n]),i=d3.scaleLinear().domain([0,d3.max(t,(t=>t.value))]).range([r,0]),o=d3.line().x((t=>s(new Date(t.timestamp)))).y((t=>i(t.value)));if(e.select("#shadow").empty()){const t=e.append("defs").append("filter").attr("id","shadow").attr("x",0).attr("y",0);t.append("feGaussianBlur").attr("in","off0ut").attr("stdDeviation",4).attr("result","blurOut"),t.append("feOffset").attr("in","SourceGraphic").attr("dx",0).attr("dy",4).attr("result","offOut"),t.append("feBlend").attr("in","SourceGraphic").attr("in2","blurOut").attr("mode","normal")}let l=e.select("path");l.empty()&&(l=e.append("path").datum({}).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("filter","url(#shadow")),l.datum(t).transition().duration(1e3).attr("d",o);const d=d3.axisBottom(s).tickFormat((t=>a(t))),p=d3.axisLeft(i);e.append("g").attr("class","x-axis").attr("transform","translate(0,"+r+")").transition().duration(1e3).call(d);let c=e.select(".y-axis");c.empty()&&(c=e.append("g").attr("class","y-axis")),c.transition(0).duration(1e3).call(p);const u=e.append("circle").attr("r",5).attr("fill","red").style("display","none"),m=e.append("text").attr("dy","-1em").style("text-anchor","middle").style("display","none"),y=e.append("line").attr("stroke","grey").attr("stroke-width","1").attr("stroke-dasharray","5,5").style("display","none");e.on("mouseover",(function(){u.style("display",null),m.style("display",null),y.style("display",null)})).on("mousemove",(function(e){const[a,n]=d3.pointer(e),r=s.invert(a),o=(0,d3.bisector((t=>new Date(t.timestamp))).right)(t,r),l=t[o];u.attr("cx",s(new Date(l.timestamp))).attr("cy",i(l.value)),y.attr("x1",s(new Date(l.timestamp))).attr("x2",s(new Date(l.timestamp))).attr("y1",i(0)).attr("y2",i(l.value)),m.attr("x",s(new Date(l.timestamp))).attr("y",i(l.value)-10).text(l.value)})).on("mouseout",(function(){u.style("display","none"),m.style("display","none"),y.style("display","none")}))}},e=class{constructor(t){this.ticker=t,this.data=[30,80,45,60,121,90,15]}async get_data(){let t=this.generateRandomData();return console.log(t),t}generateRandomArray(t,e,a){for(var n=[],r=0;r<t;r++){var s=Math.random()*(a-e)+e;n.push(s)}return n}generateRandomData(){const t=[],e=new Date;e.setHours(9,0,0,0);const a=new Date;a.setHours(17,0,0,0);for(let n=e;n<=a;n.setMinutes(n.getMinutes()+30)){const e=100*Math.random()+100;t.push({timestamp:n.toISOString(),value:e.toFixed(2)})}return t}},a=class{constructor(){const t=d3.select("#main");this.main=t,this.render(t)}render(t){t.style("height","500px").style("width","70%").style("border","none").style("border-radius","2%").style("background-color","white").style("box-shadow","5px 5px 10px rgba(0, 0, 0, 0.5)"),t.append("h1").text("Welcome").style("font-size","30px").style("margin","5px");const e=t.append("input").attr("placeholder","Enter your ticker").style("border","none").style("margin","20px 20px").style("font-size","20px").style("padding","10px 10px").style("text-transform","uppercase").style("box-shadow","5px 5px 10px rgba(0, 0, 0, 0.5)"),a=t.append("svg").style("margin","50px").attr("width","70%").attr("height","auto").style("overflow","visible");this.svg=a,e.on("keypress",this.handle_enter.bind(this))}handle_enter(a){this.main;let n=this.svg;if("Enter"===a.key){const r=d3.select(a.target).property("value"),s=new e(r);new t(s,n)}}},document.addEventListener("DOMContentLoaded",(()=>{d3.select("body").style("background-image","url('./images/island.png')"),new a}))}();
//# sourceMappingURL=main.js.map